#include "GGASimulator.h"
#include <iostream>

using namespace std;

int main(int argc, char* argv[])
{
   GGASimulator* simulator;
   simulator = new GGASimulator();
  
   while(true)
   { 
      string message = "GPGGA," + simulator->getRandTime() + "," + simulator->getRandLat() + "," + simulator->getRandLon() + "," + simulator->getRandFixQual() + "," ;
      message = message + simulator->getRandSatNo() + "," + simulator->getRandHorDil() + "," + simulator->getRandAlt() + "," + simulator->getRandGeoidH() + ",";
      message = message + simulator->getRandLastDGPSUpdt() + "," + simulator->getRandDGPSRefSID();
      
      string checksum = simulator->getChecksum(message);

      message = "$" + message + "*" + checksum + "\n";
      
      cout << message;
   }
   return 0;   
}
